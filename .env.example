# NOFX Environment Variables Template
# Copy this file to .env and modify the values as needed

# Ports Configuration
# Backend API server port (internal: 8080, external: configurable)
NOFX_BACKEND_PORT=8080

# Frontend web interface port (Nginx listens on port 80 internally)
NOFX_FRONTEND_PORT=3000

# Timezone Setting
# System timezone for container time synchronization
NOFX_TIMEZONE=Asia/Shanghai

# ============================================================================
# üåê CORS Configuration (Smart Auto-Allow for Private Networks)
# ============================================================================

# CORS Allowed Origins
# Comma-separated list of frontend URLs allowed to access the backend API
# Default allowed (hardcoded): http://localhost:3000, http://localhost:5173
#
# üéâ NEW: Smart CORS (Development Mode)
# ====================================
# In development mode (ENVIRONMENT != production), the system automatically
# allows ALL private network IPs (RFC 1918):
#   - 192.168.0.0/16 (192.168.0.0 - 192.168.255.255)
#   - 10.0.0.0/8     (10.0.0.0 - 10.255.255.255)
#   - 172.16.0.0/12  (172.16.0.0 - 172.31.255.255)
#
# This means:
# ‚úÖ NO configuration needed for LAN access during development
# ‚úÖ Works automatically when accessing from 192.168.x.x, 10.x.x.x, etc.
# ‚úÖ Still secure - only allows private networks, blocks public IPs
#
# When does manual configuration matter?
# ========================================
# 1. Production deployment (ENVIRONMENT=production)
#    ‚Üí You MUST explicitly list all allowed origins
#
# 2. Custom domains or public IPs
#    ‚Üí Add them here even in development mode
#
# 3. Non-standard private ranges
#    ‚Üí Explicitly list them if needed
#
# Examples:
# ---------
# Single custom domain:
#   CORS_ALLOWED_ORIGINS=http://trading.example.com
#
# Multiple origins (LAN + custom domain):
#   CORS_ALLOWED_ORIGINS=http://192.168.1.100:3000,http://trading.example.com
#
# Mixed ports on same LAN IP:
#   CORS_ALLOWED_ORIGINS=http://192.168.1.100:3000,http://192.168.1.100:4000
#
# ‚ö†Ô∏è Still getting "Origin not allowed" error?
# ===========================================
# 1. Check if you're in production mode (ENVIRONMENT=production)
#    ‚Üí If yes, you must configure CORS_ALLOWED_ORIGINS
#
# 2. Check if you're using a public IP or custom domain
#    ‚Üí Add it to CORS_ALLOWED_ORIGINS below
#
# 3. Check your browser's address bar for the EXACT URL
#    ‚Üí Copy that URL (including http:// and port) to CORS_ALLOWED_ORIGINS
#
# 4. Restart containers after changing .env:
#    ‚Üí docker-compose restart
#
# For most development scenarios, you can leave this commented out:
# CORS_ALLOWED_ORIGINS=

# ============================================================================
# üîê Security & Encryption Configuration
# ============================================================================

# Data Encryption Key (REQUIRED)
# Used to encrypt sensitive data (API keys, private keys) stored in database
# Generate with: openssl rand -base64 32
DATA_ENCRYPTION_KEY=PLEASE_GENERATE_YOUR_OWN_KEY_HERE

# Master Key (Optional - for dual encryption)
# If set, provides an additional encryption layer
# NOFX_MASTER_KEY=

# JWT Secret (for user authentication)
# Generate with: openssl rand -base64 64
# JWT_SECRET=

# CSRF Protection (Cross-Site Request Forgery)
# Protects against Cross-Site Request Forgery attacks
# When enabled, all POST/PUT/DELETE requests require a valid CSRF token
#
# Options:
#   false - Disabled (recommended for development, eliminates Docker warnings)
#   true  - Enabled (recommended for production environments)
#
# Default: false (if not set, system assumes disabled but Docker shows warning)
# To eliminate the warning, explicitly set to 'false':
ENABLE_CSRF=false
#
# For production, change to:
# ENABLE_CSRF=true

# ============================================================================
# üìä Market Data API Configuration (Optional - Free Tier)
# ============================================================================

# Alpha Vantage API Key (Optional)
# Used for US stock market data (S&P 500 status) to enhance AI decision context
# Free tier: 500 API calls/day (sufficient for trading bot usage)
# Register free API key at: https://www.alphavantage.co/support/#api-key
# If not set, the system will skip US stock data (VIX and Binance data still work)
# ALPHA_VANTAGE_API_KEY=

